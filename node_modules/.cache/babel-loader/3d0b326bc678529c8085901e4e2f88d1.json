{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Documents/A-Labs/Code Project/Web/template/tem_01/tem_01/src/MintButton.tsx\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { CircularProgress } from '@material-ui/core';\nimport { GatewayStatus, useGateway } from '@civic/solana-gateway-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CTAButton = styled(Button)`\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  min-width: 120px !important;\n  font-size: 1em !important;\n`;\n_c = CTAButton;\nexport const MintButton = _ref => {\n  _s();\n\n  let {\n    onMint,\n    candyMachine,\n    isMinting,\n    isActive,\n    isSoldOut\n  } = _ref;\n  const {\n    requestGatewayToken,\n    gatewayStatus\n  } = useGateway();\n  const [clicked, setClicked] = useState(false);\n  const [isVerifying, setIsVerifying] = useState(false);\n  useEffect(() => {\n    setIsVerifying(false);\n\n    if (gatewayStatus === GatewayStatus.COLLECTING_USER_INFORMATION && clicked) {\n      // when user approves wallet verification txn\n      setIsVerifying(true);\n    } else if (gatewayStatus === GatewayStatus.ACTIVE && clicked) {\n      console.log('Verified human, now minting...');\n      onMint();\n      setClicked(false);\n    }\n  }, [gatewayStatus, clicked, setClicked, onMint]);\n  return /*#__PURE__*/_jsxDEV(CTAButton, {\n    disabled: (candyMachine === null || candyMachine === void 0 ? void 0 : candyMachine.state.isSoldOut) || isSoldOut || isMinting || !isActive || isVerifying,\n    onClick: async () => {\n      if (isActive && candyMachine !== null && candyMachine !== void 0 && candyMachine.state.gatekeeper && gatewayStatus !== GatewayStatus.ACTIVE) {\n        console.log('Requesting gateway token');\n        setClicked(true);\n        await requestGatewayToken();\n      } else {\n        console.log('Minting...');\n        await onMint();\n      }\n    },\n    variant: \"contained\",\n    children: !candyMachine ? \"CONNECTING...\" : candyMachine !== null && candyMachine !== void 0 && candyMachine.state.isSoldOut || isSoldOut ? 'SOLD OUT' : isActive ? isVerifying ? 'VERIFYING...' : isMinting ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }, this) : \"MINT\" : candyMachine !== null && candyMachine !== void 0 && candyMachine.state.goLiveDate ? \"SOON\" : \"UNAVAILABLE\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MintButton, \"VbBD2l3Pa2icV/iebrBiF6YRSSU=\", false, function () {\n  return [useGateway];\n});\n\n_c2 = MintButton;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CTAButton\");\n$RefreshReg$(_c2, \"MintButton\");","map":{"version":3,"sources":["/home/ubuntu/Documents/A-Labs/Code Project/Web/template/tem_01/tem_01/src/MintButton.tsx"],"names":["styled","useEffect","useState","Button","CircularProgress","GatewayStatus","useGateway","CTAButton","MintButton","onMint","candyMachine","isMinting","isActive","isSoldOut","requestGatewayToken","gatewayStatus","clicked","setClicked","isVerifying","setIsVerifying","COLLECTING_USER_INFORMATION","ACTIVE","console","log","state","gatekeeper","goLiveDate"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAAQC,gBAAR,QAA+B,mBAA/B;AACA,SAAQC,aAAR,EAAuBC,UAAvB,QAAwC,6BAAxC;;AAIA,OAAO,MAAMC,SAAS,GAAGP,MAAM,CAACG,MAAD,CAAS;AACxC;AACA;AACA;AACA;AACA;AACA,CANO;KAAMI,S;AAQb,OAAO,MAAMC,UAAU,GAAG,QAYpB;AAAA;;AAAA,MAZqB;AACIC,IAAAA,MADJ;AAEIC,IAAAA,YAFJ;AAGIC,IAAAA,SAHJ;AAIIC,IAAAA,QAJJ;AAKIC,IAAAA;AALJ,GAYrB;AACF,QAAM;AAACC,IAAAA,mBAAD;AAAsBC,IAAAA;AAAtB,MAAuCT,UAAU,EAAvD;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACgB,WAAD,EAAcC,cAAd,IAAgCjB,QAAQ,CAAC,KAAD,CAA9C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZkB,IAAAA,cAAc,CAAC,KAAD,CAAd;;AACA,QAAIJ,aAAa,KAAKV,aAAa,CAACe,2BAAhC,IAA+DJ,OAAnE,EAA4E;AACxE;AACAG,MAAAA,cAAc,CAAC,IAAD,CAAd;AACH,KAHD,MAGO,IAAIJ,aAAa,KAAKV,aAAa,CAACgB,MAAhC,IAA0CL,OAA9C,EAAuD;AAC1DM,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAd,MAAAA,MAAM;AACNQ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,GAVQ,EAUN,CAACF,aAAD,EAAgBC,OAAhB,EAAyBC,UAAzB,EAAqCR,MAArC,CAVM,CAAT;AAYA,sBACI,QAAC,SAAD;AACI,IAAA,QAAQ,EACJ,CAAAC,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEc,KAAd,CAAoBX,SAApB,KAAiCA,SAAjC,IACAF,SADA,IAEA,CAACC,QAFD,IAGAM,WALR;AAOI,IAAA,OAAO,EAAE,YAAY;AACjB,UAAIN,QAAQ,IAAIF,YAAJ,aAAIA,YAAJ,eAAIA,YAAY,CAAEc,KAAd,CAAoBC,UAAhC,IAA8CV,aAAa,KAAKV,aAAa,CAACgB,MAAlF,EAA0F;AACtFC,QAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAN,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,cAAMH,mBAAmB,EAAzB;AACH,OAJD,MAIO;AACHQ,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,cAAMd,MAAM,EAAZ;AACH;AACJ,KAhBL;AAiBI,IAAA,OAAO,EAAC,WAjBZ;AAAA,cAmBK,CAACC,YAAD,GACG,eADH,GAEGA,YAAY,SAAZ,IAAAA,YAAY,WAAZ,IAAAA,YAAY,CAAEc,KAAd,CAAoBX,SAApB,IAAiCA,SAAjC,GACA,UADA,GAEAD,QAAQ,GACRM,WAAW,GAAG,cAAH,GACPP,SAAS,gBACL,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,YADK,GAGL,MALA,GAOPD,YAAY,SAAZ,IAAAA,YAAY,WAAZ,IAAAA,YAAY,CAAEc,KAAd,CAAoBE,UAApB,GACD,MADC,GAGD;AAjCR;AAAA;AAAA;AAAA;AAAA,UADJ;AAsCH,CAnEM;;GAAMlB,U;UAaoCF,U;;;MAbpCE,U","sourcesContent":["import styled from 'styled-components';\nimport {useEffect, useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport {CircularProgress} from '@material-ui/core';\nimport {GatewayStatus, useGateway} from '@civic/solana-gateway-react';\nimport {CandyMachine} from './candy-machine';\n\n\nexport const CTAButton = styled(Button)`\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  min-width: 120px !important;\n  font-size: 1em !important;\n`;\n\nexport const MintButton = ({\n                               onMint,\n                               candyMachine,\n                               isMinting,\n                               isActive,\n                               isSoldOut\n                           }: {\n    onMint: () => Promise<void>;\n    candyMachine: CandyMachine | undefined;\n    isMinting: boolean;\n    isActive: boolean;\n    isSoldOut: boolean;\n}) => {\n    const {requestGatewayToken, gatewayStatus} = useGateway();\n    const [clicked, setClicked] = useState(false);\n    const [isVerifying, setIsVerifying] = useState(false);\n\n    useEffect(() => {\n        setIsVerifying(false);\n        if (gatewayStatus === GatewayStatus.COLLECTING_USER_INFORMATION && clicked) {\n            // when user approves wallet verification txn\n            setIsVerifying(true);\n        } else if (gatewayStatus === GatewayStatus.ACTIVE && clicked) {\n            console.log('Verified human, now minting...');\n            onMint();\n            setClicked(false);\n        }\n    }, [gatewayStatus, clicked, setClicked, onMint]);\n\n    return (\n        <CTAButton\n            disabled={\n                candyMachine?.state.isSoldOut || isSoldOut ||\n                isMinting ||\n                !isActive ||\n                isVerifying\n            }\n            onClick={async () => {\n                if (isActive && candyMachine?.state.gatekeeper && gatewayStatus !== GatewayStatus.ACTIVE) {\n                    console.log('Requesting gateway token');\n                    setClicked(true);\n                    await requestGatewayToken();\n                } else {\n                    console.log('Minting...');\n                    await onMint();\n                }\n            }}\n            variant=\"contained\"\n        >\n            {!candyMachine ? (\n                \"CONNECTING...\"\n            ) : candyMachine?.state.isSoldOut || isSoldOut ? (\n                'SOLD OUT'\n            ) : isActive ? (\n                isVerifying ? 'VERIFYING...' :\n                    isMinting ? (\n                        <CircularProgress/>\n                    ) : (\n                        \"MINT\"\n                    )\n            ) : (candyMachine?.state.goLiveDate ? (\n                \"SOON\"\n            ) : (\n                \"UNAVAILABLE\"\n            ))}\n        </CTAButton>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}